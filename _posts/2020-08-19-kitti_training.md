---
title: kitti training
date: 2020-08-19
categories: Deep-Learning
tags:
- Kitti
- Disparity
---
　　简单记录一些在训练kitti时用到的操作
<! -- more -->
　　Kitti的数据量实在是少的可怜，首先预训练的非常必要的，做过简单的测试，在SceneFlow上最好的模型和第20轮的模型在finetune的第一个epoch结束的时候，训练了70个epoch最好的模型要比只训练了20个epoch的精度更高，但是最后的收敛情况没有做过测试，不知道是否20轮的模型在后面训练的过程中收敛的速度会不会更快些，最终的收敛值会不会更好，这些可能后面有时间的话可以做实验来测试一下。
　　根据在SceneFlow上的实验结果，进行crop操作之后的分辨率如果越大，最终在测试集上的效果会更好。所以在kitti后面训练的阶段，除了大家常用的256＊512的分辨率，可以考虑通过增大crop的分辨率来提高训练的精度。
　　由于Kitti数据集本身在采集时的方法，有一些数据是残缺的，是通过后处理的计算补充得到的，而且会存在图像的上半部是没有数据的，因此有一个技巧是在crop的时候，在高度上也做相应的限制，选择h/4下面的部分。但是经过自己的实验发现，这种方法对于天空等场景，其实泛化的效果并不理想，但是对于近处物体的深度估计确实是有一定的改善。所以在后面的实验中，不妨试一下，在不添加高度限制的前提下，先训练400epoch，提高模型对于天空等场景视差估计的泛化效果，接着使用h/4以下的部分进行第二阶段的训练，对近处物体的场景进行改善，这样处理的效果，等试验结束之后再给出补充。
　　可以尝试使用2012与2015交替训练的方法，2012训练之后的模型作为2015数据集的预训练模型，经过测试，这种方法是有效的。
　　剩下的就是一些超参数的调整，慢慢炼丹好了。